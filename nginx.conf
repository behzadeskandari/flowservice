server {
    listen 80;                      # Listen on standard HTTP port (matches EXPOSE 80 in Dockerfile)
    server_name localhost;          # Fine for local/dev; in prod you can change to your domain or remove/keep as _

    location / {
        root   /usr/share/nginx/html;   # Correct: matches where you COPY --from=build-stage /app/dist
        index  index.html index.htm;    # Serve index.html by default
        try_files $uri $uri/ /index.html;  # CRITICAL for Vue SPA client-side routing
    }

    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }
}